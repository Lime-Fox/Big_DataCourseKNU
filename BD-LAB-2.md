# **BD-LAB-2**

**ОБЩАЯ ИНФОМАЦИЯ:**                                                                                                                       
**По данным детектора гравитационных волн LIGO построить график слияния двух нейтронных звезд                                           (cобытие GW170817)
https://uk.wikipedia.org/wiki/GW170817.                                                                                                   
Лабораторную работу создано на основе
https://losc.ligo.org/tutorial00/**

## **TASK-1** 
**Загрузить файл с данными по ссылке
https://dcc.ligo.org/public/0146/P1700337/001/H-H1_LOSC_C00_4_V1-1187006834-4096.hdf5**

```
download.file("https://dcc.ligo.org/public/0146/P1700337/001/H-H1_LOSC_C00_4_V1-1187006834-4096.hdf5","f.hdf5", "auto", TRUE,"wb")
```

## **TASK-2** 
**Установить в R пакет для работы с HDF5 файлами**

```
install.packages("BiocManager")
BiocManager::install("rhdf5")
library(rhdf5)
```
## **TASK-3** 
**Выведите содержание файла командой h5ls**

```
h5ls("f.hdf5")
```
```
              group            name       otype  dclass      dim
0                    /            meta   H5I_GROUP                 
1                /meta     Description H5I_DATASET  STRING    ( 0 )
2                /meta  DescriptionURL H5I_DATASET  STRING    ( 0 )
3                /meta        Detector H5I_DATASET  STRING    ( 0 )
4                /meta        Duration H5I_DATASET INTEGER    ( 0 )
5                /meta        GPSstart H5I_DATASET INTEGER    ( 0 )
6                /meta     Observatory H5I_DATASET  STRING    ( 0 )
7                /meta            Type H5I_DATASET  STRING    ( 0 )
8                /meta        UTCstart H5I_DATASET  STRING    ( 0 )
9                    /         quality   H5I_GROUP                 
10            /quality          detail   H5I_GROUP                 
11            /quality      injections   H5I_GROUP                 
12 /quality/injections InjDescriptions H5I_DATASET  STRING        5
13 /quality/injections   InjShortnames H5I_DATASET  STRING        5
14 /quality/injections         Injmask H5I_DATASET INTEGER     4096
15            /quality          simple   H5I_GROUP                 
16     /quality/simple  DQDescriptions H5I_DATASET  STRING        7
17     /quality/simple    DQShortnames H5I_DATASET  STRING        7
18     /quality/simple          DQmask H5I_DATASET INTEGER     4096
19                   /          strain   H5I_GROUP                 
20             /strain          Strain H5I_DATASET   FLOAT 16777216
```


## **TASK-4** 
**Определить результаты измерений.
Считайте name Strain из группы strain в переменную strain.                                                                               
После считывания не забывайте закрывать файл командой**
H5Close()**

```
n.star = H5Fopen("f.hdf5")
strain <- n.star$"/strain/Strain"
H5close()
strain
```
```
[1] -2.391646e-18 -2.411660e-18 -2.427382e-18 -2.426351e-18 -2.427996e-18 -2.446291e-18 -2.462962e-18 -2.463456e-18 -2.464039e-18 -2.481933e-18 -2.499762e-18
  [12] -2.499653e-18 -2.499740e-18 -2.514827e-18 -2.534504e-18 -2.539017e-18 -2.534552e-18 -2.547276e-18 -2.567941e-18 -2.573345e-18 -2.569082e-18 -2.580038e-18
  [23] -2.601175e-18 -2.606781e-18 -2.602693e-18 -2.610871e-18 -2.633490e-18 -2.643470e-18 -2.636836e-18 -2.644074e-18 -2.664256e-18 -2.672044e-18 -2.668297e-18
  [34] -2.674602e-18 -2.694475e-18 -2.704304e-18 -2.701060e-18 -2.704327e-18 -2.721023e-18 -2.736411e-18 -2.734468e-18 -2.734657e-18 -2.750277e-18 -2.764038e-18
  [45] -2.762714e-18 -2.760657e-18 -2.775542e-18 -2.791775e-18 -2.792872e-18 -2.789694e-18 -2.802051e-18 -2.818514e-18 -2.819640e-18 -2.817563e-18 -2.825702e-18
  [56] -2.840493e-18 -2.844911e-18 -2.840323e-18 -2.849236e-18 -2.864024e-18 -2.866516e-18 -2.864561e-18 -2.870113e-18 -2.884157e-18 -2.892315e-18 -2.886803e-18
  [67] -2.888990e-18 -2.905280e-18 -2.910579e-18 -2.905710e-18 -2.907789e-18 -2.918407e-18 -2.929630e-18 -2.924219e-18 -2.920615e-18 -2.935474e-18 -2.945064e-18
  [78] -2.941400e-18 -2.938474e-18 -2.948497e-18 -2.958899e-18 -2.953137e-18 -2.947170e-18 -2.958416e-18 -2.969287e-18 -2.965243e-18 -2.960560e-18 -2.965839e-18
  [89] -2.977932e-18 -2.977669e-18 -2.966931e-18 -2.973528e-18 -2.984989e-18 -2.982362e-18 -2.976018e-18 -2.976060e-18 -2.985538e-18 -2.990464e-18 -2.980658e-18
 [100] -2.979012e-18 -2.992554e-18 -2.993673e-18 -2.983490e-18 -2.983633e-18 -2.990969e-18 -2.995566e-18 -2.987276e-18 -2.977768e-18 -2.989824e-18 -2.996801e-18
...
```

## **TASK-5** 
**Также с «strain / Strain» считайте атрибут Xspacing (функция h5readAttributes) Xspacing в переменную st и выведите ее. 
Это интервал времени между измерениями.**

```
n.star = H5Fopen("f.hdf5")
f.atr= h5readAttributes(n.star, "strain/Strain")
st <- f.atr$Xspacing
H5close()
st
```
```
[1] 0.0002441406
```

## **TASK-6** 
**Найдите время начала события и его продолжительность. 
Для этого из группы meta считайте в переменную gpsStart name GPSstart 
и 
в переменную duration name Duration.**

```
n.star<- H5Fopen("f.hdf5")
gpsStart <- n.star$"meta/GPSstart"
duration <- n.star$"meta/Duration"
gpsStart
duration 
```
```
[1] 1187006834
```
```
[1] 4096
```

## **TASK-7** 
**Найдите время окончания события и сохраните его в переменную gpsEnd**

```
gpsEnd <- gpsStart + duration
gpsEnd
```
```
[1] 1187010930
```


## **TASK-8**
**Создайте вектор с момента измерений и сохраните в переменную myTime. 
Начало последовательности - gpsStart, конец - gpsEnd, шаг - st.** 

```
myTime <- seq(gpsStart, gpsEnd, st)
myTime
```
```
[1] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [15] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [29] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [43] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [57] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [71] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [85] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
  [99] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
 [113] 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834 1187006834
...
```

## **TASK-9** 
**Построим график только для первого миллиона измерений. 
Для этого создайте переменную numSamples, равную 1000000. ** 

```
numSamples = 1000000
numSamples
```
```
[1] 1e+06
```

## **TASK10** 
**Постройте график с помощью функции                                                                                                     
plot (myTime [0: numSamples], strain [0: numSamples], type = "l", xlab = "GPS Time (s)", ylab = "H1 Strain")** 

```
![alt text](https://github.com/Lime-Fox/Big_DataCourseKNU/blob/master/BD-LAB-3-(PIC-PLOT).png)
```
